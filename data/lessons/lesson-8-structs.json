{
  "id": "lesson-8-structs",
  "title": "Structs",
  "description": "How to create custom types with structs.",
  "content": "# Structs\n\nA **struct** allows us to create custom types that package multiple values together.\n\n## Basic Struct Definition\n\n```rust\nstruct User {\n    username: String,\n    email: String,\n    sign_in_count: u64,\n    active: bool,\n}\n```\n\n## Creating Struct Instances\n\n```rust\nlet user1 = User {\n    email: String::from(\"someone@example.com\"),\n    username: String::from(\"someusername123\"),\n    active: true,\n    sign_in_count: 1,\n};\n```\n\n## Accessing Fields\n\n```rust\nprintln!(\"{}\", user1.email);\nuser1.sign_in_count += 1;\n```\n\n## Mutable Struct\n\n```rust\nlet mut user1 = User { /* ... */ };\nuser1.email = String::from(\"anotheremail@example.com\");\n```\n\n## Field Init Shorthand\n\n```rust\nfn build_user(email: String, username: String) -> User {\n    User {\n        email,      // instead of email: email\n        username,   // instead of username: username\n        active: true,\n        sign_in_count: 1,\n    }\n}\n```\n\n## Tuple Structs\n\n```rust\nstruct Color(i32, i32, i32);\nlet black = Color(0, 0, 0);\n```\n\n## Unit-like Structs\n\n```rust\nstruct AlwaysEqual;\nlet subject = AlwaysEqual;\n```",
  "difficulty": "beginner",
  "estimatedTime": 30,
  "prerequisites": [
    "lesson-4-functions"
  ],
  "codeExamples": [
    {
      "id": "ex-8-1-basic-struct",
      "title": "Basic Struct",
      "description": "Struct definition and usage",
      "code": "struct User {\n    username: String,\n    email: String,\n    sign_in_count: u64,\n    active: bool,\n}\nfn main() {\n    let user1 = User {\n        email: String::from(\"someone@example.com\"),\n        username: String::from(\"someusername123\"),\n        active: true,\n        sign_in_count: 1,\n    };\n    println!(\"User: {}\", user1.username);\n    println!(\"Email: {}\", user1.email);\n}",
      "explanation": "A struct allows us to package related data together. Fields are accessed with dot notation.",
      "language": "rust"
    },
    {
      "id": "ex-8-2-mutable-struct",
      "title": "Mutable Struct",
      "description": "Modifying a struct",
      "code": "struct User {\n    username: String,\n    email: String,\n    sign_in_count: u64,\n    active: bool,\n}\nfn main() {\n    let mut user1 = User {\n        email: String::from(\"someone@example.com\"),\n        username: String::from(\"someusername123\"),\n        active: true,\n        sign_in_count: 1,\n    };\n    user1.sign_in_count += 1;\n    println!(\"Sign-in count: {}\", user1.sign_in_count);\n}",
      "explanation": "To modify a struct, the variable must be `mut`. Then any field can be modified.",
      "language": "rust"
    },
    {
      "id": "ex-8-3-tuple-struct",
      "title": "Tuple Struct",
      "description": "Using tuple structs",
      "code": "struct Color(i32, i32, i32);\nstruct Point(i32, i32, i32);\nfn main() {\n    let black = Color(0, 0, 0);\n    let origin = Point(0, 0, 0);\n    println!(\"Color RGB: ({}, {}, {})\", black.0, black.1, black.2);\n}",
      "explanation": "Tuple structs are useful when we want a distinct type but don't need field names. Elements are accessed by index.",
      "language": "rust"
    },
    {
      "id": "ex-8-4-blockchain-transaction",
      "title": "Blockchain: Transaction Struct",
      "description": "Using structs for blockchain transactions",
      "code": "struct Transaction {\n    from: String,\n    to: String,\n    amount: u64,\n    fee: u64,\n    nonce: u64,\n}\nfn main() {\n    let tx = Transaction {\n        from: String::from(\"0xAlice\"),\n        to: String::from(\"0xBob\"),\n        amount: 100,\n        fee: 10,\n        nonce: 1,\n    };\n    println!(\"Transaction:\");\n    println!(\"  From: {}\", tx.from);\n    println!(\"  To: {}\", tx.to);\n    println!(\"  Amount: {} tokens\", tx.amount);\n    println!(\"  Fee: {} tokens\", tx.fee);\n    println!(\"  Total: {} tokens\", tx.amount + tx.fee);\n}",
      "explanation": "Structs are perfect for representing blockchain transactions. They group related data (sender, receiver, amount, etc.) into a single type.",
      "language": "rust"
    },
    {
      "id": "ex-8-5-blockchain-account",
      "title": "Blockchain: Account Struct",
      "description": "Representing blockchain accounts with structs",
      "code": "struct Account {\n    address: String,\n    balance: u64,\n    nonce: u64,\n    is_contract: bool,\n}\nimpl Account {\n    fn new(address: String) -> Self {\n        Account {\n            address,\n            balance: 0,\n            nonce: 0,\n            is_contract: false,\n        }\n    }\n    fn display(&self) {\n        let account_type = if self.is_contract { \"Contract\" } else { \"Wallet\" };\n        println!(\"{} Account: {}\", account_type, self.address);\n        println!(\"  Balance: {} tokens\", self.balance);\n        println!(\"  Nonce: {}\", self.nonce);\n    }\n}\nfn main() {\n    let mut account = Account::new(String::from(\"0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb\"));\n    account.balance = 1000;\n    account.display();\n}",
      "explanation": "Account structs store blockchain account information. Methods can be added to structs using impl blocks for functionality like displaying account info.",
      "language": "rust"
    }
  ],
  "exercises": [
    {
      "id": "exercise-8-1",
      "title": "Creating a Struct",
      "description": "Create a Rectangle struct with width and height fields!",
      "starterCode": "fn main() {\n}",
      "solution": "struct Rectangle {\n    width: u32,\n    height: u32,\n}\nfn main() {\n    let rect = Rectangle {\n        width: 30,\n        height: 50,\n    };\n    println!(\"Width: {}, Height: {}\", rect.width, rect.height);\n}",
      "hints": [
        "Use u32 type for dimensions",
        "Access struct fields with dot notation"
      ],
      "difficulty": "easy"
    },
    {
      "id": "exercise-8-2",
      "title": "Blockchain: Create Transaction",
      "description": "Create a Transaction struct for blockchain!",
      "starterCode": "fn main() {\n}",
      "solution": "struct Transaction {\n    from: String,\n    to: String,\n    amount: u64,\n}\nfn main() {\n    let tx = Transaction {\n        from: String::from(\"0xAlice\"),\n        to: String::from(\"0xBob\"),\n        amount: 500,\n    };\n    println!(\"From: {}\", tx.from);\n    println!(\"To: {}\", tx.to);\n    println!(\"Amount: {}\", tx.amount);\n}",
      "hints": [
        "Use String for addresses",
        "Use u64 for amount (no negative values in blockchain)",
        "Access fields with dot notation"
      ],
      "difficulty": "easy"
    }
  ],
  "projectIdeas": [
    {
      "id": "project-8-1",
      "title": "Blockchain Transaction Manager",
      "description": "Build a transaction management system using structs. Create Transaction, Block, and Account structs to represent blockchain data structures.",
      "difficulty": "medium",
      "estimatedTime": 3,
      "requirements": [
        "Create Transaction struct with from, to, amount, fee, nonce fields",
        "Create Block struct with index, transactions, previous_hash, hash",
        "Create Account struct with address, balance, nonce",
        "Implement functions to create and display these structs",
        "Create at least 3 sample transactions and 1 block"
      ],
      "hints": [
        "Use String for addresses and hashes",
        "Use u64 for amounts and indices",
        "Use Vec<Transaction> for block transactions",
        "Create helper functions to display struct data"
      ],
      "extensions": [
        "Add validation functions (check balance, validate transaction)",
        "Implement a simple blockchain with multiple blocks",
        "Add methods to structs using impl blocks",
        "Create a transaction history tracker"
      ],
      "learningOutcomes": [
        "Master struct definition and usage",
        "Understand field access and modification",
        "Learn to organize related data",
        "Practice with nested structs"
      ]
    },
    {
      "id": "project-8-2",
      "title": "Cryptocurrency Portfolio Tracker",
      "description": "Create a portfolio tracking system using structs. Track multiple cryptocurrencies with their balances, prices, and values.",
      "difficulty": "medium",
      "estimatedTime": 2,
      "requirements": [
        "Create Coin struct with symbol, balance, price fields",
        "Create Portfolio struct containing multiple coins",
        "Calculate total portfolio value",
        "Display individual coin values and total",
        "Support at least 3 different cryptocurrencies"
      ],
      "hints": [
        "Use Vec<Coin> in Portfolio struct",
        "Use f64 for prices (or u64 for fixed-point)",
        "Create methods to calculate values",
        "Use iteration to sum portfolio value"
      ],
      "extensions": [
        "Add price update functionality",
        "Calculate profit/loss",
        "Add percentage allocation",
        "Support adding/removing coins"
      ],
      "learningOutcomes": [
        "Work with structs containing collections",
        "Practice with calculations",
        "Learn struct methods",
        "Understand data organization"
      ]
    },
    {
      "id": "project-8-3",
      "title": "Smart Contract Registry",
      "description": "Build a registry system for smart contracts. Use structs to store contract information like address, name, creator, and deployment date.",
      "difficulty": "easy",
      "estimatedTime": 2,
      "requirements": [
        "Create SmartContract struct with address, name, creator, deployed_at fields",
        "Create Registry struct to hold multiple contracts",
        "Add function to register new contracts",
        "Display all registered contracts",
        "Find contract by address or name"
      ],
      "hints": [
        "Use String for addresses and names",
        "Use Vec<SmartContract> for registry",
        "Create search functions",
        "Use pattern matching for lookups"
      ],
      "extensions": [
        "Add contract versioning",
        "Track contract interactions",
        "Add categories/tags",
        "Implement contract verification status"
      ],
      "learningOutcomes": [
        "Practice with struct collections",
        "Learn search and filter operations",
        "Understand data modeling",
        "Work with multiple struct types"
      ]
    }
  ]
}
