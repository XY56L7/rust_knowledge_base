{
  "id": "lesson-29-blockchain-intro",
  "title": "Blockchain Fundamentals",
  "description": "Understanding what blockchain is and how it works at a fundamental level.",
  "content": "# Blockchain Fundamentals\n\nA **blockchain** is a distributed, immutable ledger that records transactions in a secure and verifiable way.\n\n## Core Concepts\n\n### Decentralization\n\nUnlike traditional databases controlled by a single entity, blockchains are distributed across many nodes (computers). Each node maintains a copy of the entire blockchain.\n\n### Immutability\n\nOnce data is written to a blockchain, it cannot be altered. This is achieved through cryptographic hashing and consensus mechanisms.\n\n### Transparency\n\nAll transactions are visible to all participants, while maintaining privacy through cryptographic techniques.\n\n## Blockchain Structure\n\n```rust\n// A blockchain is a chain of blocks\nstruct Blockchain {\n    blocks: Vec<Block>,\n}\n\n// Each block contains transactions\nstruct Block {\n    index: u64,\n    timestamp: u64,\n    transactions: Vec<Transaction>,\n    previous_hash: String,\n    hash: String,\n}\n```\n\n## Key Properties\n\n1. **Distributed**: No single point of failure\n2. **Immutable**: Historical data cannot be changed\n3. **Transparent**: All transactions are visible\n4. **Secure**: Cryptography ensures integrity\n5. **Consensus**: Agreement on valid transactions\n\n## Use Cases\n\n- **Cryptocurrencies**: Digital money (Bitcoin, Ethereum)\n- **Smart Contracts**: Self-executing contracts\n- **Supply Chain**: Tracking goods from origin to consumer\n- **Identity Management**: Decentralized identity systems\n- **Voting Systems**: Transparent and verifiable elections\n\n## Why Rust?\n\nRust's memory safety and performance make it ideal for:\n- Validating transactions quickly\n- Securing cryptographic operations\n- Handling concurrent consensus mechanisms\n- Building reliable node software",
  "difficulty": "beginner",
  "estimatedTime": 30,
  "prerequisites": [
    "lesson-8-structs"
  ],
  "codeExamples": [
    {
      "id": "ex-29-1-blockchain-structure",
      "title": "Blockchain Structure",
      "description": "Basic blockchain data structure in Rust",
      "code": "struct Block {\n    index: u64,\n    timestamp: u64,\n    data: String,\n    previous_hash: String,\n    hash: String,\n}\nstruct Blockchain {\n    blocks: Vec<Block>,\n}\nimpl Blockchain {\n    fn new() -> Self {\n        Blockchain {\n            blocks: Vec::new(),\n        }\n    }\n    fn add_block(&mut self, block: Block) {\n        self.blocks.push(block);\n    }\n}\nfn main() {\n    let mut blockchain = Blockchain::new();\n    let genesis = Block {\n        index: 0,\n        timestamp: 1234567890,\n        data: String::from(\"Genesis Block\"),\n        previous_hash: String::from(\"0\"),\n        hash: String::from(\"genesis_hash\"),\n    };\n    blockchain.add_block(genesis);\n    println!(\"Blockchain created with {} blocks\", blockchain.blocks.len());\n}",
      "explanation": "This shows the basic structure of a blockchain. Each block links to the previous one via the previous_hash field. The Blockchain struct maintains a vector of all blocks.",
      "language": "rust"
    },
    {
      "id": "ex-29-2-block-validation",
      "title": "Block Validation",
      "description": "Checking if a block is valid",
      "code": "struct Block {\n    index: u64,\n    previous_hash: String,\n    hash: String,\n}\nfn is_valid_block(current: &Block, previous: &Block) -> bool {\n    if current.index != previous.index + 1 {\n        return false;\n    }\n    if current.previous_hash != previous.hash {\n        return false;\n    }\n    true\n}\nfn main() {\n    let block1 = Block {\n        index: 0,\n        previous_hash: String::from(\"0\"),\n        hash: String::from(\"hash1\"),\n    };\n    let block2 = Block {\n        index: 1,\n        previous_hash: String::from(\"hash1\"),\n        hash: String::from(\"hash2\"),\n    };\n    println!(\"Block valid: {}\", is_valid_block(&block2, &block1));\n}",
      "explanation": "Block validation ensures the integrity of the blockchain. We check that blocks are sequential and that each block correctly references the previous block's hash.",
      "language": "rust"
    }
  ],
  "exercises": [
    {
      "id": "exercise-29-1",
      "title": "Create a Blockchain",
      "description": "Create a blockchain and add two blocks to it!",
      "starterCode": "struct Block {\n    index: u64,\n    data: String,\n    previous_hash: String,\n    hash: String,\n}\nstruct Blockchain {\n    blocks: Vec<Block>,\n}\nfn main() {\n}",
      "solution": "struct Block {\n    index: u64,\n    data: String,\n    previous_hash: String,\n    hash: String,\n}\nstruct Blockchain {\n    blocks: Vec<Block>,\n}\nfn main() {\n    let mut blockchain = Blockchain {\n        blocks: Vec::new(),\n    };\n    let genesis = Block {\n        index: 0,\n        data: String::from(\"Genesis\"),\n        previous_hash: String::from(\"0\"),\n        hash: String::from(\"genesis_hash\"),\n    };\n    blockchain.blocks.push(genesis);\n    let block1 = Block {\n        index: 1,\n        data: String::from(\"Block 1\"),\n        previous_hash: String::from(\"genesis_hash\"),\n        hash: String::from(\"block1_hash\"),\n    };\n    blockchain.blocks.push(block1);\n    println!(\"Blockchain has {} blocks\", blockchain.blocks.len());\n}",
      "hints": [
        "Create a mutable Blockchain struct",
        "Use push() to add blocks to the vector",
        "Make sure the previous_hash of block1 matches the hash of genesis"
      ],
      "difficulty": "medium"
    }
  ],
  "projectIdeas": [
    {
      "id": "project-29-1",
      "title": "Simple Blockchain Explorer",
      "description": "Build a basic blockchain explorer that displays blocks and their relationships. Practice with structs, vectors, and blockchain concepts.",
      "difficulty": "medium",
      "estimatedTime": 4,
      "requirements": [
        "Create Block and Blockchain structs",
        "Implement genesis block creation",
        "Add function to create new blocks",
        "Display blockchain information (height, blocks)",
        "Show block details (index, hash, previous_hash)",
        "Validate block chain integrity"
      ],
      "hints": [
        "Use Vec<Block> to store blocks",
        "Genesis block has index 0 and previous_hash \"0\"",
        "Each new block links to previous block's hash",
        "Create display functions for blocks"
      ],
      "extensions": [
        "Add transaction support to blocks",
        "Implement block validation",
        "Add search by block index or hash",
        "Create a simple CLI interface",
        "Add statistics (total blocks, chain length)"
      ],
      "learningOutcomes": [
        "Understand blockchain structure",
        "Practice with structs and collections",
        "Learn block linking mechanism",
        "Implement basic validation logic"
      ]
    },
    {
      "id": "project-29-2",
      "title": "Blockchain Simulator",
      "description": "Create a simulator that demonstrates how blocks are added to a blockchain. Show the chain growing over time with visual output.",
      "difficulty": "medium",
      "estimatedTime": 3,
      "requirements": [
        "Create a blockchain with genesis block",
        "Simulate adding blocks over time",
        "Display each block addition",
        "Show chain structure visually",
        "Track blockchain height",
        "Verify chain integrity after each addition"
      ],
      "hints": [
        "Use a loop to simulate block creation",
        "Generate simple hashes for blocks",
        "Display block information in a readable format",
        "Check that each block links correctly"
      ],
      "extensions": [
        "Add timestamps to blocks",
        "Simulate multiple miners",
        "Add difficulty adjustment",
        "Create a simple visualization",
        "Export blockchain to JSON"
      ],
      "learningOutcomes": [
        "Understand blockchain growth",
        "Practice with loops and iteration",
        "Learn block validation",
        "Work with timestamps"
      ]
    },
    {
      "id": "project-29-3",
      "title": "Blockchain Data Validator",
      "description": "Build a tool that validates blockchain data integrity. Check that all blocks are properly linked and no data has been tampered with.",
      "difficulty": "hard",
      "estimatedTime": 5,
      "requirements": [
        "Create functions to validate block structure",
        "Check that previous_hash matches previous block",
        "Verify block indices are sequential",
        "Detect any chain breaks or invalid links",
        "Report validation results",
        "Handle edge cases (empty chain, single block)"
      ],
      "hints": [
        "Iterate through blocks and check each one",
        "Compare current.previous_hash with previous.hash",
        "Check index increments by 1",
        "Return detailed error messages"
      ],
      "extensions": [
        "Add hash verification (if you implement hashing)",
        "Check for duplicate blocks",
        "Validate block timestamps",
        "Create detailed validation report",
        "Support partial chain validation"
      ],
      "learningOutcomes": [
        "Master blockchain validation",
        "Practice error handling",
        "Learn defensive programming",
        "Understand blockchain security"
      ]
    }
  ]
}
